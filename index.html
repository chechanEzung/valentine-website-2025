<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Enhanced Car Mini Game with Your Image</title>
<!-- Google Fonts for style -->
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Montserrat&display=swap" rel="stylesheet" />
<style>
  body {
    margin: 0;
    background-color: #222;
    overflow: hidden;
    font-family: 'Montserrat', sans-serif;
  }

  #gameArea {
    position: relative;
    width: 100%;
    height: 600px;
    background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);
    overflow: hidden;
  }

  #score {
    position: absolute;
    top: 10px;
    left: 20px;
    color: white;
    font-size: 24px;
    font-family: 'Pacifico', cursive;
    z-index: 10;
  }

  #car {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    width: 80px; /* size for your image */
    height: auto;
    cursor: pointer;
    z-index: 5;
  }

  /* Style for obstacles */
  .obstacle {
    position: absolute;
    top: -60px;
    width: 60px;
    height: 60px;
    background: radial-gradient(circle, #00b09b, #96c93d);
    border-radius: 15px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  }

  #restartBtn {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 15px 30px;
    font-size: 1.5em;
    background-color: #ff4e50;
    color: white;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    display: none;
    z-index: 10;
    font-family: 'Pacifico', cursive;
  }

  #restartBtn:hover {
    background-color: #ff6b6b;
  }
</style>
</head>
<body>

<div id="gameArea">
  <div id="score">Score: 0</div>
  <!-- Use your image as the car -->
  <img id="car" src="https://i.ibb.co/Y7sxXKx6/grok-image-1769426657058.jpg" alt="Car" />
  <button id="restartBtn">Restart</button>
</div>

<!-- Sound effects -->
<audio id="collisionSound" src="https://www.soundjay.com/buttons/sounds/button-09.mp3" preload="auto"></audio>
<audio id="pointSound" src="https://www.soundjay.com/buttons/sounds/button-3.mp3" preload="auto"></audio>

<script>
  const gameArea = document.getElementById('gameArea');
  const car = document.getElementById('car');
  const scoreDisplay = document.getElementById('score');
  const restartBtn = document.getElementById('restartBtn');
  const collisionSound = document.getElementById('collisionSound');
  const pointSound = document.getElementById('pointSound');

  let carX = 0;
  let gameInterval;
  let obstacleInterval;
  let obstacles = [];
  let score = 0;
  let isGameOver = false;

  // Initialize game
  function resetGame() {
    score = 0;
    isGameOver = false;
    scoreDisplay.innerHTML = 'Score: 0';
    document.getElementById('score').style.color = 'white';

    // Reset car position
    const areaW = gameArea.clientWidth;
    const carW = car.offsetWidth;
    carX = areaW / 2 - carW / 2;
    car.style.left = carX + 'px';

    // Remove obstacles
    obstacles.forEach(obs => gameArea.removeChild(obs));
    obstacles = [];

    // Hide restart button
    restartBtn.style.display = 'none';

    // Restart game loop
    gameInterval = setInterval(updateGame, 30);
    obstacleInterval = setInterval(createObstacle, 1000);
  }

  // Event listener for restart
  restartBtn.onclick = () => {
    resetGame();
  };

  // Car controls
  document.addEventListener('keydown', (e) => {
    if (isGameOver) return;
    const step = 20;
    const areaW = gameArea.clientWidth;
    const carW = car.offsetWidth;
    if (e.key === 'ArrowLeft') {
      carX = Math.max(0, carX - step);
    } else if (e.key === 'ArrowRight') {
      carX = Math.min(areaW - carW, carX + step);
    }
    car.style.left = carX + 'px';
  });

  // Create obstacles
  function createObstacle() {
    const obstacle = document.createElement('div');
    obstacle.className = 'obstacle';
    const maxX = gameArea.clientWidth - 60;
    const obstacleX = Math.random() * maxX;
    obstacle.style.left = obstacleX + 'px';
    obstacle.style.top = '-60px';
    gameArea.appendChild(obstacle);
    obstacles.push(obstacle);
  }

  // Main game update
  function updateGame() {
    for (let i = obstacles.length - 1; i >= 0; i--) {
      const obs = obstacles[i];
      let top = obs.offsetTop + 5;
      obs.style.top = top + 'px';

      // Check collision
      if (
        top + 60 >= car.offsetTop &&
        top <= car.offsetTop + 120 &&
        parseFloat(obs.style.left) < carX + car.offsetWidth &&
        parseFloat(obs.style.left) + 60 > carX
      ) {
        endGame();
        collisionSound.play();
        return;
      }

      // Remove obstacle if out of screen
      if (top > gameArea.clientHeight) {
        gameArea.removeChild(obs);
        obstacles.splice(i, 1);
        score++;
        scoreDisplay.innerHTML = 'Score: ' + score;
        pointSound.play();
      }
    }
  }

  function endGame() {
    clearInterval(gameInterval);
    clearInterval(obstacleInterval);
    isGameOver = true;
    document.getElementById('score').style.color = 'red';
    document.getElementById('score').innerHTML = 'Game Over! Final Score: ' + score;
    restartBtn.style.display = 'block';
  }

  // Start the game initially
  resetGame();

</script>

</body>
</html>
